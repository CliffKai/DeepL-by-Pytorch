# Claude Code 斜杠命令详解

Claude Code 提供了丰富的斜杠命令（Slash Commands）来帮助用户更高效地管理会话、配置和工作流程。本文档将详细介绍每个命令的功能、使用场景和示例。

---

## 目录

1. [会话管理命令](#会话管理命令)
2. [项目与文件命令](#项目与文件命令)
3. [配置与设置命令](#配置与设置命令)
4. [代码审查命令](#代码审查命令)
5. [调试与诊断命令](#调试与诊断命令)
6. [账户与隐私命令](#账户与隐私命令)
7. [界面与显示命令](#界面与显示命令)
8. [高级功能命令](#高级功能命令)
9. [自定义命令](#自定义命令)

---

## 会话管理命令

### `/clear`

**功能**：清除当前对话历史记录。

**使用场景**：
- 当对话变得太长，想要重新开始时
- 切换到完全不同的任务，不需要之前的上下文时
- 对话中出现混乱，想要从头开始时

**示例**：
```
/clear
```
执行后，所有之前的对话记录都会被清除，你将开始一个全新的会话。

---

### `/compact [instructions]`

**功能**：压缩当前对话，可选择性地提供关注点指令。

**使用场景**：
- 对话过长导致 token 使用过多时
- 想要保留关键信息但减少上下文占用时
- 需要聚焦于特定主题继续对话时

**示例**：
```
# 基本压缩
/compact

# 带指令的压缩，聚焦于特定内容
/compact 保留关于数据库设计的讨论

# 聚焦于 bug 修复相关内容
/compact focus on the authentication bug we discussed
```

---

### `/resume [session]`

**功能**：恢复之前的会话，可以通过 ID 或名称指定，或打开会话选择器。

**使用场景**：
- 想要继续之前中断的工作时
- 需要回到之前某个项目的讨论时
- 在多个任务之间切换时

**示例**：
```
# 打开会话选择器
/resume

# 通过会话名称恢复
/resume my-feature-branch

# 通过会话 ID 恢复
/resume abc123
```

---

### `/rename <name>`

**功能**：重命名当前会话，便于后续识别和恢复。

**使用场景**：
- 开始一个重要的工作会话时
- 想要更好地组织多个会话时
- 为特定项目或功能创建专用会话时

**示例**：
```
/rename 用户认证功能开发
/rename bugfix-login-issue
/rename refactor-api-v2
```

---

### `/exit`

**功能**：退出 Claude Code REPL（交互式命令行界面）。

**使用场景**：
- 完成工作，想要退出 Claude Code 时
- 需要重新启动 Claude Code 时

**示例**：
```
/exit
```

---

### `/rewind`

**功能**：回退对话和/或代码更改。

**使用场景**：
- Claude 做了不想要的代码更改时
- 想要撤销最近的几轮对话时
- 需要回到之前的状态重新尝试不同方案时

**示例**：
```
/rewind
```
执行后会显示一个界面，让你选择回退到哪个时间点。

---

### `/export [filename]`

**功能**：将当前对话导出到文件或剪贴板。

**使用场景**：
- 需要保存对话记录以供日后参考时
- 想要分享对话内容给同事时
- 需要归档重要的技术讨论时

**示例**：
```
# 导出到默认文件
/export

# 导出到指定文件
/export conversation-2024-01-10.md

# 导出到剪贴板
/export clipboard
```

---

## 项目与文件命令

### `/init`

**功能**：初始化项目，创建 `CLAUDE.md` 指南文件。

**使用场景**：
- 第一次在新项目中使用 Claude Code 时
- 想要让 Claude 更好地理解项目结构时
- 需要为团队创建 Claude Code 使用指南时

**示例**：
```
/init
```
Claude 会分析你的代码库，生成一个包含项目结构、常用命令和架构说明的 `CLAUDE.md` 文件。

---

### `/add-dir`

**功能**：添加额外的工作目录。

**使用场景**：
- 需要同时处理多个相关项目时
- 项目依赖于其他目录的代码时
- 想要让 Claude 访问项目外的文件时

**示例**：
```
/add-dir /path/to/another/project
/add-dir ../shared-library
```

---

### `/memory`

**功能**：编辑 `CLAUDE.md` 记忆文件。

**使用场景**：
- 需要更新项目说明时
- 想要添加新的项目约定或规范时
- 需要修正 Claude 对项目的理解时

**示例**：
```
/memory
```
这会打开一个编辑器，让你修改 `CLAUDE.md` 文件。

---

## 配置与设置命令

### `/config`

**功能**：打开设置界面（Config 标签页）。

**使用场景**：
- 需要修改 Claude Code 配置时
- 想要查看或更改默认设置时
- 配置工具权限或行为时

**示例**：
```
/config
```

---

### `/permissions`

**功能**：查看或更新权限设置。

**使用场景**：
- 需要授权 Claude 执行特定操作时
- 想要检查当前的权限配置时
- 需要限制或扩展 Claude 的能力时

**示例**：
```
/permissions
```
会显示当前的权限设置，包括文件读写、命令执行等权限。

---

### `/model`

**功能**：选择或更改 AI 模型。

**使用场景**：
- 需要切换到不同性能的模型时
- 想要使用更快或更强大的模型时
- 测试不同模型的输出效果时

**示例**：
```
/model
```
会显示可用的模型列表供选择，如 Claude Sonnet、Claude Opus 等。

---

### `/hooks`

**功能**：管理钩子配置，用于工具事件的自动响应。

**使用场景**：
- 想要在特定操作后自动执行命令时
- 需要自定义工作流程时
- 集成 CI/CD 或其他自动化工具时

**示例**：
```
/hooks
```

---

### `/mcp`

**功能**：管理 MCP（Model Context Protocol）服务器连接和 OAuth 认证。

**使用场景**：
- 需要连接外部工具或服务时
- 配置自定义 MCP 服务器时
- 管理第三方集成时

**示例**：
```
/mcp
```

---

### `/plugin`

**功能**：管理 Claude Code 插件。

**使用场景**：
- 安装新的功能插件时
- 启用或禁用特定插件时
- 查看已安装的插件列表时

**示例**：
```
/plugin
```

---

### `/agents`

**功能**：管理自定义 AI 子代理，用于专门任务。

**使用场景**：
- 需要创建专门处理特定任务的代理时
- 管理多个不同功能的子代理时
- 配置代理的行为和权限时

**示例**：
```
/agents
```

---

### `/sandbox`

**功能**：启用沙箱模式，提供文件系统和网络隔离。

**使用场景**：
- 运行不信任的代码时
- 需要隔离环境进行测试时
- 想要更安全地执行命令时

**示例**：
```
/sandbox
```

---

### `/ide`

**功能**：管理 IDE 集成并显示状态。

**使用场景**：
- 配置与 VS Code 等 IDE 的集成时
- 检查 IDE 连接状态时
- 解决 IDE 集成问题时

**示例**：
```
/ide
```

---

### `/remote-env`

**功能**：配置远程会话环境（适用于 claude.ai 订阅用户）。

**使用场景**：
- 需要在远程环境中工作时
- 配置云端开发环境时
- 设置远程会话参数时

**示例**：
```
/remote-env
```

---

### `/teleport`

**功能**：通过会话 ID 从 claude.ai 恢复远程会话。

**使用场景**：
- 从网页版 Claude 切换到 CLI 继续工作时
- 在不同设备间同步会话时
- 恢复云端会话到本地时

**示例**：
```
/teleport session-id-12345
```

---

## 代码审查命令

### `/review`

**功能**：请求代码审查。

**使用场景**：
- 完成功能开发后想要审查代码质量时
- 提交 PR 前进行自我审查时
- 需要发现潜在问题或改进点时

**示例**：
```
/review
```
Claude 会审查当前分支的更改，提供代码质量、最佳实践、潜在 bug 等方面的反馈。

---

### `/security-review`

**功能**：对当前分支的待处理更改进行安全审查。

**使用场景**：
- 提交涉及安全敏感代码时
- 需要检查潜在安全漏洞时
- 处理用户输入、认证等敏感功能时

**示例**：
```
/security-review
```
Claude 会分析代码中的安全风险，如 SQL 注入、XSS、敏感数据泄露等。

---

### `/pr-comments`

**功能**：查看 Pull Request 的评论。

**使用场景**：
- 需要快速查看 PR 上的反馈时
- 在 CLI 中处理 PR 评论时
- 跟踪代码审查进度时

**示例**：
```
/pr-comments
/pr-comments 123
```

---

## 调试与诊断命令

### `/doctor`

**功能**：检查 Claude Code 安装的健康状态。

**使用场景**：
- Claude Code 出现异常行为时
- 安装或更新后验证环境时
- 排查配置问题时

**示例**：
```
/doctor
```
会运行一系列诊断检查，报告任何问题。

---

### `/bug`

**功能**：报告 bug（会将对话发送给 Anthropic）。

**使用场景**：
- 发现 Claude Code 的 bug 时
- 遇到意外行为需要报告时
- 想要帮助改进 Claude Code 时

**示例**：
```
/bug
```
会引导你描述问题并提交报告。

---

### `/bashes`

**功能**：列出和管理后台任务。

**使用场景**：
- 查看正在运行的后台命令时
- 管理长时间运行的任务时
- 需要终止后台进程时

**示例**：
```
/bashes
```

---

### `/todos`

**功能**：列出当前的 TODO 项目。

**使用场景**：
- 查看待完成任务列表时
- 跟踪工作进度时
- 回顾未完成的工作时

**示例**：
```
/todos
```

---

## 账户与隐私命令

### `/login`

**功能**：切换 Anthropic 账户。

**使用场景**：
- 需要切换到不同账户时
- 工作和个人账户切换时
- 首次登录或重新认证时

**示例**：
```
/login
```

---

### `/logout`

**功能**：从 Anthropic 账户登出。

**使用场景**：
- 完成工作需要登出时
- 切换到其他账户前时
- 安全考虑需要登出时

**示例**：
```
/logout
```

---

### `/privacy-settings`

**功能**：查看和更新隐私设置。

**使用场景**：
- 需要了解数据如何被使用时
- 想要调整隐私相关选项时
- 管理数据收集偏好时

**示例**：
```
/privacy-settings
```

---

## 界面与显示命令

### `/help`

**功能**：获取使用帮助。

**使用场景**：
- 不确定如何使用某个功能时
- 想要查看所有可用命令时
- 学习 Claude Code 的新功能时

**示例**：
```
/help
```

---

### `/context`

**功能**：以彩色网格可视化当前上下文使用情况。

**使用场景**：
- 想要了解当前对话占用了多少上下文时
- 优化对话长度时
- 调试上下文相关问题时

**示例**：
```
/context
```
会显示一个可视化的网格，展示上下文使用分布。

---

### `/cost`

**功能**：显示 token 使用统计。

**使用场景**：
- 监控 API 使用成本时
- 了解对话消耗了多少 token 时
- 优化使用效率时

**示例**：
```
/cost
```

---

### `/usage`

**功能**：显示计划使用限制和速率限制状态（仅限订阅用户）。

**使用场景**：
- 检查剩余配额时
- 了解速率限制状态时
- 规划使用量时

**示例**：
```
/usage
```

---

### `/stats`

**功能**：可视化每日使用量、会话历史、连续使用天数和模型偏好。

**使用场景**：
- 回顾使用模式时
- 查看历史统计数据时
- 了解自己的使用习惯时

**示例**：
```
/stats
```

---

### `/theme`

**功能**：更改颜色主题。

**使用场景**：
- 调整界面外观时
- 适应不同光线环境时
- 个人偏好设置时

**示例**：
```
/theme
```

---

### `/output-style [style]`

**功能**：直接设置输出风格或从选择菜单中选择。

**使用场景**：
- 调整 Claude 的回复风格时
- 需要更简洁或更详细的回答时
- 适应不同的工作场景时

**示例**：
```
# 打开选择菜单
/output-style

# 直接设置风格
/output-style concise
/output-style detailed
```

---

### `/statusline`

**功能**：设置 Claude Code 的状态行 UI。

**使用场景**：
- 自定义界面显示时
- 配置状态栏信息时
- 个性化界面时

**示例**：
```
/statusline
```

---

### `/release-notes`

**功能**：查看发布说明。

**使用场景**：
- 了解新版本更新内容时
- 查看新功能和修复时
- 跟踪产品更新时

**示例**：
```
/release-notes
```

---

## 高级功能命令

### `/plan`

**功能**：直接从提示符进入计划模式。

**使用场景**：
- 开始复杂任务前需要规划时
- 想要让 Claude 先制定方案再执行时
- 需要讨论和确认实现方案时

**示例**：
```
/plan
```
进入计划模式后，Claude 会先分析任务，制定详细计划，等待你确认后再执行。

---

### `/vim`

**功能**：进入 vim 模式，交替使用插入模式和命令模式。

**使用场景**：
- 熟悉 vim 操作习惯的用户
- 需要高效编辑输入时
- 想要使用 vim 风格的快捷键时

**示例**：
```
/vim
```

---

### `/terminal-setup`

**功能**：安装 Shift+Enter 快捷键绑定，用于输入换行。

**使用场景**：
- 需要在输入中使用多行文本时
- 配置终端快捷键时
- 首次设置开发环境时

**示例**：
```
/terminal-setup
```

---

### `/install-github-app`

**功能**：为仓库设置 Claude GitHub Actions。

**使用场景**：
- 想要在 GitHub 上集成 Claude 时
- 设置自动代码审查时
- 配置 CI/CD 集成时

**示例**：
```
/install-github-app
```

---

## 自定义命令

除了内置命令，你还可以创建自定义斜杠命令。

### 项目命令

存放在 `.claude/commands/` 目录下，可以通过 git 与团队共享。

**创建示例**：

创建文件 `.claude/commands/deploy.md`：
```markdown
---
description: 部署到生产环境
allowed-tools: ["Bash"]
---

请执行以下部署步骤：
1. 运行测试确保通过
2. 构建生产版本
3. 部署到服务器

项目路径: $ARGUMENTS
```

使用：
```
/deploy /path/to/project
```

### 个人命令

存放在 `~/.claude/commands/` 目录下，在所有项目中可用。

**创建示例**：

创建文件 `~/.claude/commands/morning.md`：
```markdown
---
description: 早间工作流程
---

请帮我执行早间工作流程：
1. 检查 git 状态
2. 拉取最新代码
3. 查看今天的 TODO 列表
```

使用：
```
/morning
```

### 命令参数

- `$ARGUMENTS` - 获取所有参数
- `$1`, `$2`, ... - 获取特定位置的参数
- `@filepath` - 引用文件内容

**示例**：
```markdown
请审查以下文件的代码：
@$1

重点关注：$2
```

使用：
```
/review-file src/main.js 性能优化
```

---

## 快捷技巧

1. **自动补全**：在输入任意位置键入 `/` 可查看可用命令
2. **命令优先级**：项目命令会覆盖同名的个人命令
3. **命令发现**：在 `/help` 中，命令会显示 "(project)" 或 "(user)" 标识来源
4. **组合使用**：可以在对话中多次使用不同命令来完成复杂工作流

---

## 总结

Claude Code 的斜杠命令提供了强大的功能来管理会话、配置环境、审查代码等。合理使用这些命令可以大大提高开发效率。建议根据自己的工作流程，创建适合的自定义命令，进一步提升生产力。
