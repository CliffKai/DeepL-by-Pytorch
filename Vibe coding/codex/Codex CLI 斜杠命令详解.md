# Codex CLI 斜杠命令详解

适用版本：codex-cli 0.80.0（以官方文档为准，后续版本可能增删命令）。

使用提示：
- 在输入框里键入 `/` 会弹出命令面板
- `Tab` 可自动补全斜杠命令与已保存的提示词
- 你也可以自定义斜杠命令（行为类似 `/prompts: <name>`）

下面按命令逐一说明「做什么 / 何时用 / 示例」。

## /approvals
- 做什么：更新审批策略，决定 Codex 哪些动作可以不经确认直接执行。
- 何时用：在“自动执行”与“只读审查”等模式间切换，或者临时收紧权限。
- 示例：
  - 输入 `/approvals`，在弹窗中选择 `Auto`（更自动）或 `Read Only`（更保守）。
  - 改完可用 `/status` 查看当前审批策略是否生效。

## /compact
- 做什么：把当前可见对话压缩成摘要，释放上下文窗口容量。
- 何时用：对话较长、上下文逼近上限，想保留关键结论但减少历史负担时。
- 示例：
  - 输入 `/compact` 并确认压缩。
  - 压缩后会用简要摘要替换早期对话，减少 token 占用。

## /diff
- 做什么：展示 Git diff，包含未跟踪文件在内的变更。
- 何时用：提交前、跑测试前、或想核对 Codex 改了哪些内容时。
- 示例：
  - 输入 `/diff`，在终端内滚动查看具体改动。
  - 适合在 `/review` 之后做逐行核验。

## /exit
- 做什么：退出 CLI（与 `/quit` 等价）。
- 何时用：结束当前会话或需要彻底关闭 CLI 时。
- 示例：
  - 输入 `/exit` 直接退出。

## /feedback
- 做什么：收集并发送日志与诊断信息给 Codex 维护者。
- 何时用：遇到异常、错误、或需要反馈性能/功能问题时。
- 示例：
  - 输入 `/feedback`，按提示附带日志或诊断信息。

## /init
- 做什么：在当前目录生成 `AGENTS.md` 脚手架，用于长期指令。
- 何时用：希望 Codex 在此项目或子目录中长期遵循特定规范时。
- 示例：
  - 在项目根目录输入 `/init`，生成 `AGENTS.md` 后自行编辑。

## /logout
- 做什么：登出 Codex 并清理本地凭据。
- 何时用：共享机器上使用完毕，或需要切换账号时。
- 示例：
  - 输入 `/logout` 即可退出登录状态。

## /mcp
- 做什么：列出已配置的 MCP（Model Context Protocol）工具。
- 何时用：确认当前会话可用的外部工具与服务器能力时。
- 示例：
  - 输入 `/mcp` 查看可用 MCP 工具列表。

## /mention
- 做什么：把某个文件或路径加入对话上下文。
- 何时用：需要 Codex 重点查看某个文件/目录、或对某个文件提问时。
- 示例：
  - 输入 `/mention src/lib/api.ts`，从弹窗中选择对应文件。

## /model
- 做什么：切换当前模型（以及可选的 reasoning effort）。
- 何时用：在轻量模型与更强推理模型之间切换，或需要更高推理深度时。
- 示例：
  - 输入 `/model`，选择 `gpt-4.1-mini` 或 `gpt-4.1`。
  - 切换后可用 `/status` 确认生效。

## /new
- 做什么：在同一个 CLI 会话中开启新的对话。
- 何时用：不想退出 CLI，但需要全新上下文开始新任务时。
- 示例：
  - 输入 `/new`，开启一段新的对话线程。

## /quit
- 做什么：退出 CLI（与 `/exit` 等价）。
- 何时用：结束当前会话或要关闭 CLI 时。
- 示例：
  - 输入 `/quit` 直接退出。

## /review
- 做什么：让 Codex 对当前工作区进行代码审查。
- 何时用：完成一轮修改后，想让 Codex 找潜在问题、行为变化或缺少的测试时。
- 示例：
  - 输入 `/review` 获取审查结果。
  - 若要看具体改动，可接着输入 `/diff`。

## /status
- 做什么：查看会话配置与 token 使用情况。
- 何时用：确认模型、审批策略、可写目录、以及剩余上下文容量时。
- 示例：
  - 输入 `/status` 查看当前会话信息概览。
